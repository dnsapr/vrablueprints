---
formatVersion: 1
name: Simple Virtual Machine
version: 2
########## INPUTS ##########
inputs: 
  
  name:
    type: string
    title: Имя VM
    description: Необходимо ввести имя создаваемого виртуального ресурса (ВМ)
  
  regionPlaces:
    type: string
    title: Место развертывания
    description: В какой локации развернуть виртуальный ресурс (ВМ)
    oneOf:
      - title: On-Prem
        const: onprem   ### должно совпадать с Cloud Zone
      - title: Cloud Provider
        const: cloud    ### должно совпадать с Cloud Zone

  img:
    type: string
    title: Операционная Система
    description: Выбирите операционную систему
    oneOf:
      - title: Windows
        const: 'win2022'  

  
########## RESOURCES ##########
resources:
  vm1:
    type: Cloud.Machine
    properties:
      name: ${input.name}
      constraints: 
        - tag: ${input.regionPlaces} 
      flavor: 'unlimited'
      image: ${input.img}